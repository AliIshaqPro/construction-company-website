<div style="margin-top:180px;"class="container"><h1>Customer Reviews</h1>

<!-- Placeholder for Error Message -->
<div id="pin-error-message" style="display: none; color: red; margin-bottom: 20px;"></div>

<%= form_with model: @review, url: reviews_path, local: true, remote: true do |f| %>
  <div class="form-group">
    <%= f.label :name, 'Name' %>
    <%= f.text_field :name, class: 'form-control', required: true %>
  </div>

  <div class="form-group">
    <%= f.label :content, 'Review Content' %>
    <%= f.text_area :content, class: 'form-control', required: true %>
  </div>

  <div class="form-group">
    <%= f.label :image, 'Profile Image' %>
    <%= f.file_field :image %>
  </div>

  <!-- Pin Code Field -->
  <div class="form-group">
    <%= f.label :pin_code, 'Pin Code' %>
    <%= f.text_field :pin_code, class: 'form-control', required: true, placeholder: 'Enter Pin Code' %>
  </div>

  <%= f.submit 'Submit Review', class: 'btn btn-primary' %>
<% end %>



<div class="container mt-5">
  <h2 class="text-center mb-4">Customer Reviews</h2>

  <div class="row">
    <% @reviews.each do |review| %>
      <div class="col-md-4 mb-4">
        <div class="card">
          <%= image_tag review.image.attached? ? review.image : 'g1.jpg', style: 'width: 100px; height: 100px; border-radius: 50%; margin: 10px auto;' %>
          <div class="card-body">
            <h5 class="card-title"><%= review.name %></h5>
            <p class="card-text"><%= review.content %></p>
          </div>
        </div>
      </div>
    <% end %>
  </div>
</div>
</div>
<style>.card {
    border: 1px solid #ddd;
    border-radius: 8px;
    box-shadow: 0 4px 8px rgba(0, 0, 0, 0.1);
  }
  
  .card-body {
    text-align: center;
  }
  
  .card-title {
    font-size: 18px;
    font-weight: bold;
    margin-top: 10px;
  }
  
  .card-text {
    font-size: 14px;
    color: #555;
    margin-top: 10px;
  }
  
  .card img {
    display: block;
    margin: 0 auto;
    border-radius: 50%;
    width: 80px;
    height: 80px;
  }
  </style>
  <script>
  // JavaScript to show the PIN error message
function showPinError() {
  var errorMessage = "Incorrect Pin Code. You are not authorized to give a review. Please contact us for access.";
  var errorDiv = document.getElementById("pin-error-message");
  errorDiv.style.display = "block";  // Make the message visible
  errorDiv.innerHTML = errorMessage; // Set the error message content
}

  </script>